source 'https://rubygems.org'

# Fix gem conflict with http-accept 1.7.0 by adding explicit dependency for version 2.1.1
gem "http-accept", "2.1.1"

# Install omnibus software
group :omnibus do
  gem "omnibus", github: ENV.fetch("OMNIBUS_GITHUB_REPO", "chef/omnibus"), branch: ENV.fetch("OMNIBUS_GITHUB_BRANCH", "main")
  gem "omnibus-software", github: ENV.fetch("OMNIBUS_SOFTWARE_GITHUB_REPO", "chef/omnibus-software"), branch: ENV.fetch("OMNIBUS_SOFTWARE_GITHUB_BRANCH", "main")
  gem 'artifactory'
  gem 'license_scout',   git: "https://github.com/chef/license_scout.git", branch: "1-stable"
end

group :test do
  gem 'test-kitchen' # for Test Kitchen testing of the omnibus builds
  gem 'berkshelf', '~> 8.0.22' # depsolving the Test Kitchen suite
  gem 'archive-tar-minitar' # required by berkshelf for packaging
  gem 'chef', '~> 18.8.9'
  gem 'rake'
end
